<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Client Service Portal</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --brand:#2563eb;
  --bg:#f1f5f9;
  --text:#0f172a;
  --muted:#64748b;
  --border:#e2e8f0;
  --card:#ffffff;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui;
  background:var(--bg);
  color:var(--text);
  scroll-behavior:smooth;
}

/* HEADER */
.header{
  position:sticky;
  top:0;
  z-index:10;
  background:white;
  border-bottom:1px solid var(--border);
  padding:18px 40px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.logo{font-weight:700;font-size:20px}
.header button{
  background:var(--brand);
  color:white;
  border:none;
  padding:10px 16px;
  border-radius:10px;
  cursor:pointer;
  transition:.2s;
}
.header button:hover{transform:translateY(-1px);opacity:.9}

/* HERO */
.hero{
  display:grid;
  grid-template-columns:1.1fr .9fr;
  gap:50px;
  padding:80px 40px;
  align-items:center;
}
.hero h1{font-size:46px;line-height:1.1}
.hero p{font-size:18px;color:var(--muted)}
.hero img{
  width:100%;
  border-radius:20px;
  box-shadow:0 25px 50px rgba(0,0,0,.15);
  animation:float 5s ease-in-out infinite;
}

@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
}

/* SECTIONS */
.section{
  padding:70px 40px;
}
.section h2{
  text-align:center;
  font-size:34px;
  margin-bottom:12px;
}
.section p.lead{
  text-align:center;
  color:var(--muted);
  font-size:18px;
  max-width:700px;
  margin:0 auto 50px;
}

/* FEATURES */
.features{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:30px;
}
.feature{
  background:var(--card);
  padding:28px;
  border-radius:18px;
  border:1px solid var(--border);
  transition:.25s;
}
.feature:hover{
  transform:translateY(-6px);
  box-shadow:0 15px 30px rgba(0,0,0,.08);
}
.feature h3{margin:12px 0}
.feature p{color:var(--muted)}
.icon{
  font-size:34px;
}

/* HOW IT WORKS */
.steps{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:30px;
}
.step{
  background:white;
  padding:24px;
  border-radius:16px;
  border-left:6px solid var(--brand);
}

/* CTA */
.cta{
  background:linear-gradient(135deg,#2563eb,#1e40af);
  color:white;
  text-align:center;
  padding:70px 40px;
}
.cta h2{font-size:36px;margin-bottom:10px}
.cta button{
  margin-top:20px;
  background:white;
  color:var(--brand);
  padding:12px 20px;
  border:none;
  border-radius:10px;
  font-weight:600;
  cursor:pointer;
}

/* FOOTER */
.footer{
  background:white;
  border-top:1px solid var(--border);
  text-align:center;
  padding:30px;
  color:var(--muted);
}

/* MODALS */
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  align-items:center;
  justify-content:center;
}
.box{
  background:white;
  width:380px;
  padding:22px;
  border-radius:16px;
  animation:fade .25s ease;
}
@keyframes fade{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1}
}
input,select,button{
  width:100%;
  padding:10px;
  margin:6px 0;
}
.primary{background:var(--brand);color:white;border:none}
.google{background:#db4437;color:white;border:none}
.link{background:none;border:none;color:var(--brand);cursor:pointer}
.msg{
  background:#fee2e2;
  color:#991b1b;
  padding:8px;
  border-radius:6px;
  font-size:14px;
  display:none;
}

/* RESPONSIVE */
@media(max-width:900px){
  .hero{grid-template-columns:1fr}
}
</style>
</head>

<body>

<header class="header">
  <div class="logo">Service Portal</div>
  <button onclick="openAuth()">Login / Sign Up</button>
</header>

<section class="hero">
  <div>
    <h1>One place to manage all client communication</h1>
    <p>
      Send inquiries, share files, track responses, and stay connected
      with our support team in real time â€” securely and efficiently.
    </p>
  </div>
  <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&w=1200&auto=format&fit=crop">
</section>

<section class="section">
  <h2>Why use this portal?</h2>
  <p class="lead">
    Designed to eliminate lost messages, delayed responses, and confusion.
  </p>

  <div class="features">
    <div class="feature">
      <div class="icon">ðŸ’¬</div>
      <h3>Centralized Inquiries</h3>
      <p>All conversations are stored securely and never get lost.</p>
    </div>
    <div class="feature">
      <div class="icon">ðŸ“Ž</div>
      <h3>Media Support</h3>
      <p>Send images, PDFs, and files with every inquiry or reply.</p>
    </div>
    <div class="feature">
      <div class="icon">âš¡</div>
      <h3>Fast Responses</h3>
      <p>Admins reply instantly and users are notified in real time.</p>
    </div>
    <div class="feature">
      <div class="icon">ðŸ”’</div>
      <h3>Secure Access</h3>
      <p>Private accounts with role-based access control.</p>
    </div>
  </div>
</section>

<section class="section">
  <h2>How it works</h2>
  <p class="lead">Simple steps, no learning curve.</p>

  <div class="steps">
    <div class="step">
      <b>1. Sign up or log in</b>
      <p>Create an account or continue with Google.</p>
    </div>
    <div class="step">
      <b>2. Send an inquiry</b>
      <p>Describe your issue and attach files if needed.</p>
    </div>
    <div class="step">
      <b>3. Get notified</b>
      <p>Receive replies directly inside your dashboard.</p>
    </div>
    <div class="step">
      <b>4. Track history</b>
      <p>All past inquiries remain searchable and organized.</p>
    </div>
  </div>
</section>

<section class="cta">
  <h2>Ready to get started?</h2>
  <p>Create your account and experience structured communication.</p>
  <button onclick="openAuth()">Access Portal</button>
</section>

<footer class="footer">
  Â© 2026 Service Portal â€¢ Secure â€¢ Reliable â€¢ Human-friendly
</footer>

<!-- AUTH MODAL -->
<div class="modal" id="authModal">
  <div class="box">
    <h3>Welcome back</h3>
    <div id="msg" class="msg"></div>
    <button class="google" onclick="google()">Continue with Google</button>
    <hr>
    <input id="email" placeholder="Email">
    <input id="pass" type="password" placeholder="Password">
    <button class="primary" onclick="login()">Login</button>
    <button class="link" onclick="signup()">Create account</button>
  </div>
</div>

<!-- PROFILE MODAL -->
<div class="modal" id="profileModal">
  <div class="box">
    <h3>Complete your profile</h3>
    <input id="name" placeholder="Full name">
    <input id="phone" placeholder="Phone">
    <input id="location" placeholder="Location">
    <select id="gender">
      <option value="">Gender</option>
      <option>Male</option>
      <option>Female</option>
    </select>
    <button class="primary" onclick="saveProfile()">Continue</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
firebase.initializeApp({
  apiKey:"AIzaSyCl6RLrInQotd-GYmJ3VtA4wpAHfFltRUg",
  authDomain:"page-97b26.firebaseapp.com",
  projectId:"page-97b26",
  storageBucket:"page-97b26.firebasestorage.app"
});

const auth=firebase.auth();
const db=firebase.database();
const $=id=>document.getElementById(id);

function openAuth(){ $("authModal").style.display="flex"; }

function friendly(e){
  const map={
    "auth/user-not-found":"We couldnâ€™t find an account with that email.",
    "auth/wrong-password":"That password doesnâ€™t look right.",
    "auth/email-already-in-use":"An account with this email already exists.",
    "auth/weak-password":"Please choose a stronger password (6+ characters).",
    "auth/invalid-email":"Please enter a valid email address."
  };
  return map[e.code] || "Something went wrong. Please try again.";
}
function showError(t){
  const m=$("msg");
  m.style.display="block";
  m.innerText=t;
}

function login(){
  showError("");
  auth.signInWithEmailAndPassword(
    $("email").value.trim(),
    $("pass").value.trim()
  ).catch(e=>showError(friendly(e)));
}
function signup(){
  showError("");
  auth.createUserWithEmailAndPassword(
    $("email").value.trim(),
    $("pass").value.trim()
  ).catch(e=>showError(friendly(e)));
}
function google(){
  auth.signInWithRedirect(new firebase.auth.GoogleAuthProvider());
}
auth.getRedirectResult().catch(()=>{});

let currentUser=null;
auth.onAuthStateChanged(async u=>{
  if(!u) return;
  currentUser=u;
  $("authModal").style.display="none";

  const ref=db.ref("users/"+u.uid);
  const snap=await ref.once("value");
  if(snap.exists()) return route(snap.val().role);

  const first=!(await db.ref("users").limitToFirst(1).once("value")).exists();
  if(first){
    await ref.set({name:u.displayName||"",email:u.email,role:"superadmin",createdAt:Date.now()});
    return route("admin");
  }
  $("profileModal").style.display="flex";
});

async function saveProfile(){
  if(!currentUser) return;
  const data={
    name:$("name").value.trim(),
    email:currentUser.email,
    phone:$("phone").value.trim(),
    location:$("location").value.trim(),
    gender:$("gender").value,
    role:"user",
    createdAt:Date.now()
  };
  if(!data.name||!data.location) return alert("Please fill required fields.");
  await db.ref("users/"+currentUser.uid).set(data);
  await db.ref("analytics/usersCount").transaction(n=>(n||0)+1);
  route("user");
}

function route(role){
  location = role==="admin"||role==="superadmin" ? "admin.html" : "user.html";
}
</script>

</body>
</html>
